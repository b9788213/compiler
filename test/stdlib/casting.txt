fn atoi(s):
    asm "xor rax, rax"
    asm "xor rcx, rcx"
    asm ".atoi_loop:"
    asm "movzx rdx, byte [rdi + rcx]"
    asm "cmp dl, '0'"
    asm "jl .done"
    asm "cmp dl, '9'"
    asm "jg .done"
    asm "sub dl, '0'"
    asm "imul rax, 10"
    asm "add rax, rdx"
    asm "inc rcx"
    asm "jmp .atoi_loop"
    asm ".done:"
    asm "jmp .exit"